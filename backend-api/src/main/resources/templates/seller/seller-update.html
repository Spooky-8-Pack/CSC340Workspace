<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/login-panel.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/sell-now.css">
    <link rel="stylesheet" href="/css/update-info.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
    <title th:text="'Update: ' + ${seller.name}"></title>
</head>
<body>
    
    <nav class="navbar">
        <div class="nav-left">
            <a th:href="@{/index}"><img src="/assets/UNCG_Spartan_Head.png" style="width: 75px; height: 75px" alt="UNC Greensboro spartan logo"></a>
            <div class="menu-dropdown">
                <button class="menu-button">
                    <img src="/assets/white-menu-icon.png" style="width: 36px; height: 36px" alt="Menu icon"/>
                    <span>Categories</span>
                </button>
                <div class="menu-content">
                    <a href="#">Tops</a>
                    <a href="#">Bottoms</a>
                    <a href="#">Dresses & Sets</a>
                    <a href="#">Shoes</a>
                    <a href="#">Accessories</a>
                    <a href="#">Headwear</a>
                </div>
            </div>
        </div>

        <div class="nav-center">
            <!-- Search bar from https://codepen.io/huange/pen/bGqMqM -->
            <div class="search-container">
                <form action="#">
                    <input type="text" class="search-bar" placeholder="Search..">
                    <button class="search-button" type="submit"><i class="fa fa-search"></i></button>
                </form>
            </div>
        </div>

        <div class="nav-right">
            <div class="icons">
                 <a id="profile" class="nav-button"
                    th:href="@{/api/sellers/updateForm/{sellerId}(sellerId=${#authentication.principal.id})}">
                <i class="fa-solid fa-user"></i>
                </a>
                <a id="shop" class="nav-button"
                th:href="@{/api/sellers/{sellerId}/storefront(sellerId=${#authentication.principal.id})}">
                <i class="fa-solid fa-store"></i>
                </a>
                <a id="heart" class="nav-button"><i class="fa-solid fa-heart"></i></a>
                <a id="cart" class="nav-button"><i class="fa-solid fa-cart-shopping"></i></a>
            </div>
            
        </div>
        
    </nav>

    <div class="account-wrapper">

        <nav id="update-nav" class="navbar navbar-expand-lg p-0">
            <div class="account-navigation">
                <ul class="navbar-nav">
                    <!--Update Seller information-->
                    <li class="nav-item active">
                        <a th:href="@{/api/sellers/updateForm/{sellerId}(sellerId=${#authentication.principal.id})}">My account</a>
                    </li>
                    <!--Update Shop information-->
                    <li class="nav-item">
                        <a th:href="@{/api/shops/updateForm/{shopId}(shopId=${#authentication.principal.shop.id})}">My Shop</a>
                    </li>
                    <!--See Shop orders-->
                    <li class="nav-item">
                        <a href="#">Orders</a>
                    </li>
                    <form th:action="@{/logout}" method="post">
                        <button id="logout-button" type="submit" class="btn btn-link">Logout</button>
                    </form>
                </ul>
            </div>
        </nav>

        <div class="dashboard">
            <div class="dashboard-container">
                <div class="account-card">
                    <div class="card-name">
                        <img th:src="${seller.sellerImagePath != null ? '/seller-images/' + seller.sellerImagePath : '/No_Image_Available.jpg'}"
                            style="width: 100px; height: 100px">                        
                        <span class="card-title">Name</span>
                        <p th:text="${seller.name}"></p>
                    </div>
                    <div class="card-col1">
                        <span class="card-title">Status</span>
                        <p>Active</p>
                    </div>
                    <div class="card-col3">
                        <span class="card-title">Member Since</span>
                        <p th:text="${#temporals.format(seller.accountCreated, 'yyyy-MM-dd')}"></p>
                    </div>
                </div>

                <div class="update-shop">
                    <h1>Update Personal Information</h1>
                    <form th:action="@{/api/sellers/update/{sellerId}(sellerId=${#authentication.principal.id})}" method="post" enctype="multipart/form-data">
                        <input type="hidden" name="id" value="${seller.id?c}" readonly>
                        <small>Name</small>
                        <input type="text" name="name" id="name" th:value="${seller.name}" placeholder="Name" required>
                        <small>Email</small>
                        <input type="text" name="email" id="email" th:value="${seller.email}" placeholder="Email" required>
                        <small>Add an  image of yourself!</small>  
                        <input type="file" name="image" id="image" placeholder="Upload image!" accept="image/*">
                        <button type="submit" class="btn btn-primary">Update</button>
                    </form>
                </div>
            </div>

            <div class="update-password">
                <h1>Change Password</h1>
                <form th:action="@{/api/sellers/updatePassword/{sellerId}(sellerId=${#authentication.principal.id})}" method="post">
                    <input type="hidden" name="id" th:value="${seller.id}" readonly>
                    <small>Current password</small>
                    <input type="password" name="password" id="password" required>
                    <small>New password</small>
                    <input type="password" name="newPassword" id="newPassword" required>
                    <small>Confirm new password</small>
                    <input type="password" name="confirmPassword" id="confirmPassword" required>
                    <button type="submit" class="btn btn-primary">Update</button>
                    <a th:href="@{/api/sellers/updateForm/{sellerId}(sellerId=${#authentication.principal.id})}" class="btn btn-outline-danger">Cancel</a>
                </form>
            </div>

        </div>
    </div>

    <!-- Footer from https://mdbootstrap.com/snippets/standard/mdbootstrap/2885027?view=side -->
    <footer
            class="text-center text-lg-start text-white"
            style="background-color: #FFB71B"
            >
        <!-- Grid container -->
        <div class="container p-4 pb-0">
        <!-- Section: Links -->
        <section class="">
            <!--Grid row-->
            <div class="row">
            <!-- Grid column -->
            <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mt-3">
                <h6 class="text-uppercase mb-4 font-weight-bold">
                Spartan Thrift
                </h6>
                <p>
                The only online thrift shop at the University of North Carolina at Greensboro.
                </p>
            </div>
            <!-- Grid column -->

            <hr class="w-100 clearfix d-md-none" />

            <!-- Grid column -->
            <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mt-3">
                <h6 class="text-uppercase mb-4 font-weight-bold">Products</h6>
                <p>
                <a class="text-white">MDBootstrap</a>
                </p>
                <p>
                <a class="text-white">MDWordPress</a>
                </p>
                <p>
                <a class="text-white">BrandFlow</a>
                </p>
                <p>
                <a class="text-white">Bootstrap Angular</a>
                </p>
            </div>
            <!-- Grid column -->

            <hr class="w-100 clearfix d-md-none" />

            <!-- Grid column -->
            <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mt-3">
                <h6 class="text-uppercase mb-4 font-weight-bold">
                Useful links
                </h6>
                <p>
                <a class="text-white">Your Account</a>
                </p>
                <p>
                <a class="text-white" href="#">Become an Affiliate</a>
                </p>
                <p>
                <a class="text-white" href="#">Shipping Rates</a>
                </p>
                <p>
                <a class="text-white" href="#">Help</a>
                </p>
            </div>

            <!-- Grid column -->
            <hr class="w-100 clearfix d-md-none" />

            <!-- Grid column -->
            <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mt-3">
                <h6 class="text-uppercase mb-4 font-weight-bold">Contact</h6>
                <p><i class="fas fa-home mr-3"></i> Greensboro, NC 27412, US</p>
                <p><i class="fas fa-envelope mr-3"></i> example@gmail.com</p>
                <p><i class="fas fa-phone mr-3"></i> 000.000.000</p>
            </div>
            <!-- Grid column -->
            </div>
            <!--Grid row-->
        </section>
        <!-- Section: Links -->

        <hr class="my-3">

        <!-- Section: Copyright -->
        <section class="p-3 pt-0">
            <div class="row d-flex align-items-center">
            <!-- Grid column -->
            <div class="col-md-7 col-lg-8 text-center text-md-start">
                <!-- Copyright -->
                <div class="p-3">
                Â© 2020 Copyright:
                <a class="text-white" href="https://mdbootstrap.com/"
                    >MDBootstrap.com</a
                    >
                </div>
                <!-- Copyright -->
            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-5 col-lg-4 ml-lg-0 text-center text-md-end">
                <!-- Facebook -->
                <a
                class="btn btn-outline-light btn-floating m-1 text-white"
                role="button"
                ><i class="fab fa-facebook-f"></i
                ></a>

                <!-- Twitter -->
                <a
                class="btn btn-outline-light btn-floating m-1 text-white"
                role="button"
                ><i class="fab fa-twitter"></i
                ></a>

                <!-- Google -->
                <a
                class="btn btn-outline-light btn-floating m-1 text-white"
                role="button"
                ><i class="fab fa-google"></i
                ></a>

                <!-- Instagram -->
                <a
                class="btn btn-outline-light btn-floating m-1 text-white"
                role="button"
                ><i class="fab fa-instagram"></i
                ></a>
            </div>
            <!-- Grid column -->
            </div>
        </section>
        <!-- Section: Copyright -->
        </div>
        <!-- Grid container -->
    </footer>
    
    <script src="./js/login-panel.js"></script>
</body>
</html>